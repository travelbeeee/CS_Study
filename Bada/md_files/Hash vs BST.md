#  Hash vs BST

### 공통점

BST와 Hash Table 모두 키-값 형태로 자료를 저장하는 자료구조이다. 

따라서 사용성 측면에서 유사한 인터페이스를 갖고있고, 지원하는 연산도 비슷하다.

둘의 차이점과 장/단점은 무엇일까?

### 기능적 측면

탐색/삽입/삭제와 같은 기본 연산들에 대해서,

Hash :  O(1)

BST : O(logN) 정도로 동작한다. 

** BST에서 삭제연산시에 교환법칙이 성립하지 않는다.

A삭제 -> B삭제, B삭제 -> A삭제 결과가 다를 수 있다.

** BST는 기본적으로 중복 X

중복이 필요할 때는 count를 추가해서 구현함 

#### Hash의 장점

물론, Hash의 경우 추가로 해시 함수를 수행하는 비용과, 충돌 해결비용이 추가되지만 데이터가 엄청 많아지는 경우에는 Hash가 효과적이라고 할 수 있다. 

그리고 만약 입력 크기를 알고있다면, 해당하는 입력 크기에 최적화된 해시 함수를 이용하여 해시 값을 균일하게 분포시켜 충돌로 인한 성능 저하를 최소화할 수 있다.

#### BST의 장점

BST는 데이터들이 "정렬"된 상태로 유지된다는 장점이 있다.

이로 인해 데이터들을 정렬된 형태로 순회할 수 있고,

범위 기반 쿼리에서 좋은 성능을 낼 수 있다.

따라서, 순서와 관련이 많은 데이터 상에서는 BST가 더 효과적일 것이다. 

또한 문자열 데이터를 다룰 때, 키의 동등비교를 수행하는 Hash보다, 키의 크기 비교를 수행하는 BST가 유리할 것이다.



### 메모리 측면

#### 메모리 사용량

BST : N개의 원소에 대한 공간만을 할당

Hash : 해시 적중률을 높이기 위해 , 원소 개수 이상의 메모리 유지

메모리 사용량 측면에서는 BST가 유리하다.

#### 캐시 적중률

BST : 노드 기반 자료구조이기 때문에, 메모리 파편화로 인해 캐시 적중률이 떨어진다.

Hash : 배열 기반 자료구조라, 연속된 메모리를 유지하여 캐시 적중률이 상당히 높다. 

캐시 적중률 측면에서는 Hash가 유리하다. 

### 결론

순서와 밀접한 관련이 있는 데이터이거나,

메모리 공간이 부족할 경우에는 BST를 사용하는 것이 좋고, 

데이터가 엄청 많고, 캐시 적중률이 중요한 경우에는 Hash를 사용하는 것이 좋다. 

중복되는 값이 많은 성별과 같은 데이터는 두 방식 모두 적합하지 않다. 

[출처](https://algorfati.tistory.com/123)